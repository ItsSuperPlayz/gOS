@echo off
setlocal EnableDelayedExpansion
for /F %%a in ('echo prompt $E ^| cmd') do set "ESC=%%a"
echo.
echo !ESC![36mLaunching gOS, please wait...
echo Downloading files...
cd /d "%temp%"
set folder=%random%%random%%random%%random%%random%
mkdir %folder%
cd %folder%
curl --silent https://raw.githubusercontent.com/ItsSuperPlayz/gOS/main/gos >gos.bat || goto error
curl --silent https://raw.githubusercontent.com/ItsSuperPlayz/gOS/main/htb >htb.bat || goto error
curl --silent https://raw.githubusercontent.com/ItsSuperPlayz/gOS/main/hchar >hchar.vbs || goto error
curl --silent https://raw.githubusercontent.com/ItsSuperPlayz/gOS/main/cursorsize >cursorsize.exe.hex || goto error
curl --silent https://raw.githubusercontent.com/ItsSuperPlayz/gOS/main/getkey >getkey.exe.hex || goto error
echo Unpacking files...
cmd /c htb cursorsize.exe.hex >nul
cmd /c htb getkey.exe.hex >nul
echo !ESC![36mFinishing up...
del cursorsize.exe.hex
del getkey.exe.hex
del htb.bat
del hchar.vbs
echo Starting gOS...
echo.
echo PLEASE KEEP THIS WINDOW OPEN.
echo.
echo n|start /wait gos.bat
echo.
echo Thank you for using gOS.!ESC![0m
cd ..
rmdir /s /q %folder%
del "%~dpf0"
exit
:error
rmdir /s /q %folder%
echo !ESC![31mFailed downloading neccesary files.!ESC![0m
del "%~dpf0"
